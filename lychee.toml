# ref: https://github.com/lycheeverse/lychee/blob/master/lychee.example.toml

accept = [
	"100..=103",
	"200..=299",
	# GitHub API rate limit is unavoidable even using the cache
	"429",
]

cache = true
cache_exclude_status = [
	# GitHub API also returns 403 for rate limit
	"403",
	"429",
	"500..=599",
]

hidden = true

exclude_path = [
	# ignore autogenerated files
	".gitignore",
	"bun.lock",
	"worker/bun.lock",
	# ignore binaries
	"win/powertoys", # cspell:ignore powertoys
]

exclude = [
	"https?://dot.risunosu.com",
	# exclude ${} patterns
	".*\\$(%7B.*%7D.*)?$",
	# README.md
	"https://x.com/",
	# win/winget.json
	"https://cdn.winget.microsoft.com/cache",
	# .vscode/
	# requests are forbidden
	"https://code.visualstudio.com",
	# wsl/install.sh
	# can't be accessed
	"https://mise.jdx.dev/deb",
	# worker/tasks/worker/deploy
	# an example of a url with authentication
	"https://.+@github.com//owner/repo",
	# .github/workflows/test.yml
	"http://worker",
]

exclude_all_private = true
